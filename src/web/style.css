@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400&display=swap');

:root {
    /* Foundation Colors (Deep Dark) */
    --bg-app: #09090b;
    --bg-card: rgba(24, 24, 27, 0.6);
    --bg-card-hover: rgba(39, 39, 42, 0.8);
    
    /* Text */
    --text-primary: #e4e4e7;   /* Zinc 200 */
    --text-secondary: #a1a1aa; /* Zinc 400 */
    --text-muted: #71717a;     /* Zinc 500 */
    
    /* Accents */
    --accent-primary: #818cf8; /* Indigo 400 */
    --accent-glow: rgba(129, 140, 248, 0.15);
    
    /* Borders & Glass */
    --border-glass: rgba(255, 255, 255, 0.08);
    --border-glass-hover: rgba(255, 255, 255, 0.15);
    
    /* Spacing */
    --radius-lg: 16px;
    --radius-md: 12px;
    --radius-sm: 8px;
    
    /* Transitions */
    --ease-elastic: cubic-bezier(0.175, 0.885, 0.32, 1.275);
    --ease-smooth: cubic-bezier(0.4, 0, 0.2, 1);
}

/* --- Reset & Base --- */
* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

body {
    background-color: var(--bg-app);
    color: var(--text-primary);
    font-family: 'Inter', system-ui, -apple-system, sans-serif;
    line-height: 1.6;
    -webkit-font-smoothing: antialiased;
    min-height: 100vh;
    padding-bottom: 4rem;
}

a {
    color: var(--accent-primary);
    text-decoration: none;
    transition: color 0.2s;
}

a:hover {
    color: #a5b4fc;
}

/* --- Animations --- */
@keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
}

/* --- Profile Header (Top) --- */
.profile-header {
    text-align: center;
    padding: 8rem 2rem 5rem; /* Massive top padding */
    position: relative;
    max-width: 640px;
    margin: 0 auto;
}

.avatar {
    width: 110px; /* Larger */
    height: 110px;
    border-radius: 50%;
    border: 3px solid var(--bg-app);
    box-shadow: 0 0 0 2px var(--border-glass), 0 8px 24px rgba(0,0,0,0.5);
    margin-bottom: 2rem;
    transition: transform 0.3s var(--ease-elastic);
}

.avatar:hover {
    transform: scale(1.05) rotate(2deg);
}

.name {
    font-size: 2.5rem;
    font-weight: 700;
    letter-spacing: -0.04em;
    background: linear-gradient(to bottom right, #fff, #a1a1aa);
    -webkit-background-clip: text;
    color: transparent;
    margin-bottom: 1rem;
}

.bio {
    color: var(--text-secondary);
    font-size: 1.1rem;
    line-height: 1.8; /* Relaxed reading */
    padding: 0 1rem;
}

/* --- Stats Bar --- */
.stats-bar {
    display: flex;
    justify-content: center;
    gap: 1.5rem;
    margin-top: 2.5rem;
}

.stat-pill {
    background: var(--bg-card);
    border: 1px solid var(--border-glass);
    padding: 0.6rem 1.4rem;
    border-radius: 24px;
    font-size: 0.9rem;
    color: var(--text-secondary);
    display: flex;
    align-items: center;
    gap: 0.5rem;
    backdrop-filter: blur(8px);
    transition: all 0.2s;
}

.stat-pill:hover {
    background: var(--bg-card-hover);
    border-color: var(--border-glass-hover);
    transform: translateY(-1px);
}

/* --- Feed Container --- */
.feed-container {
    max-width: 640px; /* Narrower for focus */
    margin: 0 auto;
    padding: 0 2rem; 
    display: flex;
    flex-direction: column;
    gap: 4rem; /* Increased gap */
    padding-bottom: 10rem;
}

/* --- Feed Item Card --- */
.feed-item {
    background: var(--bg-card);
    border: 1px solid var(--border-glass);
    border-radius: var(--radius-lg);
    padding: 1.5rem; /* Tighter padding */
    backdrop-filter: blur(16px);
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
    transition: all 0.3s var(--ease-smooth);
    position: relative;
    overflow: hidden;
    animation: fadeIn 0.5s ease backwards;
}

.feed-item:hover {
    border-color: var(--border-glass-hover);
    box-shadow: 0 20px 40px -12px rgba(0, 0, 0, 0.4); 
}

/* Header */
.feed-header {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-bottom: 1.5rem;
}

.feed-avatar {
    width: 44px;
    height: 44px;
    border-radius: 50%;
    border: 1px solid var(--border-glass);
}

.feed-meta {
    display: flex;
    flex-direction: column;
}

.feed-author {
    font-size: 1rem;
    font-weight: 600;
    color: var(--text-primary);
    line-height: 1.2;
}

.feed-time {
    font-size: 0.8rem;
    color: var(--text-muted);
    display: flex;
    align-items: center;
    gap: 0.3rem;
    margin-top: 0.2rem;
}

.feed-time svg {
    width: 12px;
    height: 12px;
    opacity: 0.7;
}

/* Body & Content */
.feed-title {
    font-size: 1.4rem;
    font-weight: 700;
    margin: 0 0 1rem 0;
    line-height: 1.3;
    letter-spacing: -0.02em;
}

.feed-content-wrapper {
    position: relative;
    font-size: 1.05rem; /* Larger font */
    color: var(--text-secondary);
    line-height: 1.8; /* More breath */
    transition: max-height 0.4s var(--ease-smooth);
}

.feed-content p {
    margin-bottom: 1.5em; /* Paragraph separation */
}

/* Collapsed State Logic */
.feed-content-wrapper.collapsed {
    max-height: 160px; /* ~6-7 lines */
    overflow: hidden;
}

.expand-overlay {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 80px;
    background: linear-gradient(to bottom, transparent, #18181b); /* Matches bg-card roughly but needs to match exact card bg or be clever */
    /* Trick: use the variables. Since card is semi-transparent, overlay needs to be careful.
       Best approach for glass cards is to not use simple gradient but fade out text opacity.
       Or use a dedicated solid color at bottom if card was solid. 
       Let's try a gradient to a slightly opaque dark color close to card bg */
    background: linear-gradient(to bottom, rgba(24, 24, 27, 0), rgba(24, 24, 27, 1)); 
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.3s;
}

.feed-content-wrapper.collapsed .expand-overlay {
    opacity: 1;
}

/* Expand Button */
.expand-btn {
    width: 100%;
    display: none; /* JS toggles typical display, but maybe css state? */
    /* Strategy: Only show if parent was collapsed? No, button is outside wrapper.
       We toggle button text via JS, but we always show it if content is long?
       Actually, build script always adds it. We can hide it using CSS if content is short?
       Hard to detect short content with pure CSS. We'll rely on JS or assume all posts are collapsiblae.
    */
    background: transparent;
    border: none;
    padding: 0.8rem 0;
    color: var(--accent-primary);
    font-size: 0.9rem;
    font-weight: 500;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.4rem;
    transition: color 0.2s;
    margin-top: 0.5rem;
}

.feed-content-wrapper.collapsed + .expand-btn {
    display: flex;
}

.expand-btn:hover {
    color: #fff;
}

/* Footer & Actions */
.feed-footer {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-top: 1rem;
    padding-top: 1rem;
    border-top: 1px solid var(--border-glass);
}

.feed-tags {
    display: flex;
    gap: 0.5rem;
}

.tag {
    font-size: 0.75rem;
    color: var(--text-muted);
    background: rgba(255,255,255,0.03);
    padding: 2px 8px;
    border-radius: 4px;
    border: 1px solid transparent;
    transition: all 0.2s;
    display: flex;
    align-items: center;
    gap: 0.3rem;
}

.tag:hover {
    border-color: var(--accent-primary);
    color: var(--accent-primary);
}

.feed-actions {
    display: flex;
    gap: 1rem;
}

.action-item {
    font-size: 0.85rem;
    color: var(--text-muted);
    display: flex;
    align-items: center;
    gap: 0.4rem;
    cursor: pointer;
    transition: color 0.2s;
}

.action-item:hover {
    color: var(--accent-primary);
}

/* --- Comments --- */
.feed-comments {
    margin-top: 1rem;
    padding-top: 1rem;
    border-top: 1px dashed var(--border-glass);
    animation: fadeIn 0.3s ease;
}

.feed-comments.hidden {
    display: none;
}

.comment-item {
    display: flex;
    gap: 0.8rem;
    margin-bottom: 1rem;
    font-size: 0.9rem;
}

.comment-avatar-placeholder {
    width: 28px;
    height: 28px;
    border-radius: 50%;
    background: rgba(255,255,255,0.1);
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--text-muted);
    flex-shrink: 0;
}

.comment-main {
    flex: 1;
}

.comment-meta {
    display: flex;
    align-items: center;
    gap: 0.6rem;
    margin-bottom: 0.2rem;
}

.comment-author {
    font-weight: 600;
    color: var(--text-primary);
    font-size: 0.85rem;
}

.comment-list-time {
    font-size: 0.75rem;
    color: var(--text-muted);
}

.comment-text {
    color: var(--text-secondary);
    line-height: 1.5;
}

/* Nested Replies */
.comment-replies {
    margin-top: 0.8rem;
    padding-left: 0.8rem;
    border-left: 2px solid var(--border-glass);
}

.is-me .comment-author {
    color: var(--accent-primary);
}

.is-me .comment-avatar-placeholder {
    background: var(--accent-glow);
    color: var(--accent-primary);
}

/* Empty State */
.empty-state {
    text-align: center;
    padding: 4rem 1rem;
    color: var(--text-muted);
}

.empty-icon {
    color: var(--border-glass-hover);
    margin-bottom: 1rem;
}

/* Mobile Tweak */
@media (max-width: 640px) {
    .profile-header { padding: 4rem 1.5rem 3rem; }
    .name { font-size: 2rem; }
    .feed-container { padding: 0 1.5rem; gap: 2rem; }
    .feed-item { padding: 1.2rem; }
}
